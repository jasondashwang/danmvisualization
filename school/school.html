<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<script src="../d3.min.js" charset="utf-8"></script>
	<script type="text/javascript" src="../jquery-2.1.4.min.js"></script>
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css">
	<script src="boroughs.js"></script>
	<title>School Districts in NYC</title>
	
</head>
<body>
	<div class="row">
	<div class="large-1 columns">
		<form>
		  <div class="demographic">
		    <input type="radio" class="small button secondary" id="radio1" checked name="radio" data-target="total"><label for="radio1">Total</label>
		    <input type="radio" class="small button secondary" id="radio2" name="radio" data-target="Asian"><label for="radio2">Asian</label>
		    <input type="radio" class="small button secondary" id="radio3" name="radio" data-target="Female"><label for="radio3">Female
		  </div>
		</form>

		<form>
		  <div class="year">
		    <input type="radio" class="small button secondary" id="radio4" name="radio" checked data-target="2001"><label for="radio4">2001</label>
		    <input type="radio" class="small button secondary" id="radio5" name="radio" data-target="2002"><label for="radio5">2002</label>
		    <input type="radio" class="small button secondary" id="radio6" name="radio" data-target="2003"><label for="radio6">2003</label>
		  </div>
		</form>
	</div>
	<div class="svg large-11 columns">
		
	</div>
	</div>
<!-- D3JS Script -->
<script>
	var demographic = "total";
	$(".demographic input").click(function(){
		demographic = $(".demographic input:checked" ).attr("data-target");
	});
	var year = "2001";
	$(".year input").click(function(){
		year = $(".year input:checked" ).attr("data-target");
	});
	$("input").click(function(){
		$(".svg").html("");
			var width = 800;
	var height = 800;

	var svg = d3.select(".svg").append("svg")
		.attr("height", height)
		.attr("width", width);

	var albersProjection = d3.geo.albers()
	.scale(100000)
	.rotate([74.0059, 0])
	.center([0, 40.7127])
	.translate([width/2, height/2]);

	var geoPath = d3.geo.path()
		.projection( albersProjection);

	var boroughs = svg.append("g").selectAll("path");

	var shapes = boroughs
	.data(boros.features)
	.enter()
	.append("path")
	.attr("class", function (d) {
		return d.properties.BoroName;
	})
	.style("fill", function (d) {
		return d3.rgb(Math.floor(d[demographic][year] / 100 * 255), Math.floor(d[demographic][year] / 100 * 255), Math.floor(d[demographic][year] / 100 * 255));
	})
	.attr("d", geoPath);


	});
 


</script>

</body>
</html>